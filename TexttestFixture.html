<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <title>Gilded Rose Texttest Fixture</title>

    <script type="text/javascript" src="lib/jquery-1.7.1/jquery-1.7.1.js"></script>
    <script type="text/javascript" src="src/items/item.js" defer></script>
    <script type="text/javascript" src="src/items/aged_brie.js" defer></script>
    <script type="text/javascript" src="src/items/backstage_pass.js" defer></script>
    <script type="text/javascript" src="src/items/conjured.js" defer></script>
    <script type="text/javascript" src="src/items/sulfuras.js" defer></script>
    <script type="text/javascript" src="src/items/item_factory.js" defer></script>
    <script type="text/javascript" src="src/gilded_rose.js" defer></script>

    <script type="text/javascript">
      $(document).ready(function () {
        $("body").append("<p>OMGHAI!</p>");

        const itemFactory = new ItemFactory();

        items.push(itemFactory.create("+5 Dexterity Vest", 10, 20));
        items.push(itemFactory.create("Aged Brie", 2, 0));
        items.push(itemFactory.create("Elixir of the Mongoose", 5, 7));
        items.push(itemFactory.create("Sulfuras, Hand of Ragnaros", 0, 80));
        items.push(itemFactory.create("Sulfuras, Hand of Ragnaros", -1, 80));
        items.push(itemFactory.create("Backstage passes to a TAFKAL80ETC concert", 15, 20));
        items.push(itemFactory.create("Backstage passes to a TAFKAL80ETC concert", 10, 49));
        items.push(itemFactory.create("Backstage passes to a TAFKAL80ETC concert", 5, 49));
        items.push(itemFactory.create("Conjured Mana Cake", 3, 6));

        var days = 2;

        for (var i = 0; i < days; i++) {
          showHeaderFor(i);
          showItemsFor(i);
          update_quality();
        }

        function showHeaderFor(day) {
          $("body").append("<p>-------- day " + day + " --------</p>");
        }

        function showItemsFor(day) {
          $("body").append("<p>name, sellIn, quality</p>");
          for (var j = 0; j < items.length; j++) {
            var item = items[j];
            $("body").append(
              "<p>" + item.name + ", " + item.sell_in + ", " + item.quality + "</p>"
            );
          }
          $("body").append("<br />");
        }
      });
    </script>
  </head>

  <body></body>
</html>
